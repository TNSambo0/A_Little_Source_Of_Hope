@model AdminDashboard
@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="content">
    <div class="cards">
        <a class="text-decoration-none" asp-action="Index" asp-controller="Products">
            <div class="card">
                <div class="box">
                    <h4>Products</h4>
                    <h4>@Model.NumberofProducts</h4>
                </div>
                <div class="icon-case">
                    <img src="/images/icons/products.png" alt="products" width="65px" height="65px">
                </div>
            </div>
        </a>
        <div class="card ">
            <div class="box">
                <h4>Orders</h4>
                <h4>@Model.NumberofOrders</h4>
            </div>
            <div class="icon-case">
                <img src="/images/icons/checkout.png" alt="orders" width="65px" height="65px">
            </div>
        </div>
        <div class="card">
            <div class="box">
                <h4>Current Cash Raised</h4>
                <h4>@Model.DonatedAmount</h4>
            </div>
            <div class="icon-case">
                <img src="/images/icons/cash.png" alt="cash" width="65px" height="65px">
            </div>
        </div>
        <div class="card">
            <div class="box">
                <h4>Orphanages</h4>
                <h4>@Model.NumberofOrphanages</h4>
            </div>
            <div class="icon-case">
                <img src="/images/icons/orphanage.png" alt="orphanage" width="65px" height="65px">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-6 text-center">
            <div class="d-none PieChart">
                <label asp-for="@Model.VolunteerApps.NumberofApprovedApps" value="@Model.VolunteerApps.NumberofApprovedApps"></label>
                <label asp-for="@Model.VolunteerApps.NumberofPendingApps" value="@Model.VolunteerApps.NumberofPendingApps"></label>
                <label asp-for="@Model.VolunteerApps.NumberofRejectedApps" value="@Model.VolunteerApps.NumberofRejectedApps"></label>
            </div>
            <label class="d-none TotalApps" asp-for="@Model.VolunteerApps.NumbnerOfApplications" value="@Model.VolunteerApps.NumbnerOfApplications"></label>
            <h2>Volunteers</h2>
            <canvas id="volunteersChart" width="300" height="300"></canvas>
        </div>
        <div class="col-6 text-center">
            <h2>Subscribers List</h2>
            <ul id="subscribersList">
                @if (ViewData["SubscribersList"] != null)
                {
                    @foreach (var obj in Model.SubscribersList)
                    {
                        <li>@obj.Email has subscribed to get more updates</li>
                    }
                }
            </ul>
        </div>
    </div>
</div>
<script>
    const pieChartLabel = [];
    const pieChartData = [];
    $(".PieChart").children().each(
        function () {
            pieChartLabel.push($(this).text());
            pieChartData.push($(this).val();
        }
    );
    var volunteersData = {
        labels: pieChartLabel,
        datasets: [{
            data: pieChartData,
            backgroundColor: ['green', 'red', 'yellow'],
        }]
    };
    var volunteersOptions = {
        responsive: true,
    };

    var volunteersChart = new Chart(document.getElementById("volunteersChart"), {
        type: 'pie',
        data: volunteersData,
        options: volunteersOptions
    });
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}